drop database if exists football_tournament_management;
create database football_tournament_management;
use football_tournament_management;

-- Tạo bảng Roles
CREATE TABLE Roles (
    RoleID INT AUTO_INCREMENT PRIMARY KEY,
    RoleName VARCHAR(255)
);

-- Tạo bảng Accounts
CREATE TABLE Accounts (
    Username VARCHAR(255) PRIMARY KEY,
    Password VARCHAR(255) NOT NULL,
    AccountRole INT,
    FOREIGN KEY (AccountRole) REFERENCES Roles(RoleID),
    IsDeleted int default 0
);

-- Tạo bảng Coachs
CREATE TABLE Coachs (
    CoachID INT AUTO_INCREMENT PRIMARY KEY,
    CoachName VARCHAR(255) NOT NULL,
    BirthDate DATE,
    PhoneNumber VARCHAR(255),
    Forte VARCHAR(255),
    IsDeleted int default 0,
    AvatarPath VARCHAR(255)
);

-- Tạo bảng Teams
CREATE TABLE Teams (
    TeamID INT AUTO_INCREMENT PRIMARY KEY,
    TeamName VARCHAR(255) NOT NULL,
    CoachID INT,
    EstablishedDate DATE,
    FOREIGN KEY (CoachID) REFERENCES Coachs(CoachID),
    IsDeleted int default 0,
    AvatarPath VARCHAR(255)
);

-- Tạo bảng Players
CREATE TABLE Players (
    PlayerID INT AUTO_INCREMENT PRIMARY KEY,
    TeamID INT,
    PlayerName VARCHAR(255) NOT NULL,
    Position VARCHAR(50),
    BirthDate DATE,
    PhoneNumber VARCHAR(255),
    JerseyNumber INT,
    FOREIGN KEY (TeamID) REFERENCES Teams(TeamID),
    IsDeleted int default 0,
    AvatarPath VARCHAR(255)
);

-- Tạo bảng Tournaments
CREATE TABLE Tournaments (
    TournamentID INT AUTO_INCREMENT PRIMARY KEY,
    TournamentName VARCHAR(255) NOT NULL,
    StartDate DATE,
    EndDate DATE,
    Location VARCHAR(255),
    TournamentCreator VARCHAR(255),
    FOREIGN KEY (TournamentCreator) REFERENCES Accounts(Username),
    IsDeleted int default 0,
    AvatarPath VARCHAR(255)
);

-- Tạo bảng Matches
CREATE TABLE Matches (
    MatchID INT AUTO_INCREMENT PRIMARY KEY,
    TournamentID INT,
    Team1ID INT,
    Team2ID INT,
    MatchDate DATETIME,
    Location VARCHAR(255),
    TeamWin INT,
    Result VARCHAR(50),
    FOREIGN KEY (TournamentID) REFERENCES Tournaments(TournamentID),
    FOREIGN KEY (Team1ID) REFERENCES Teams(TeamID),
    FOREIGN KEY (Team2ID) REFERENCES Teams(TeamID),
    FOREIGN KEY (TeamWin) REFERENCES Teams(TeamID),
    IsDeleted int default 0
);

-- Tạo bảng Awards
CREATE TABLE Awards (
    TournamentID INT,
    AwardName VARCHAR(255),
    PrizeAmount DECIMAL(18, 2),
    PRIMARY KEY (TournamentID, AwardName),
    FOREIGN KEY (TournamentID) REFERENCES Tournaments(TournamentID),
    IsDeleted int default 0
);

-- Tạo bảng Rules
CREATE TABLE Rules (
    RuleID INT AUTO_INCREMENT PRIMARY KEY,
    TournamentID INT,
    RuleDescription TEXT,
    FOREIGN KEY (TournamentID) REFERENCES Tournaments(TournamentID),
    IsDeleted int default 0
);

-- Tạo bảng Teams_in_tournament
CREATE TABLE Teams_in_tournament (
    TournamentID INT NOT null,
    TeamID INT NOT NULL,
    PRIMARY KEY (TournamentID, TeamID),
    FOREIGN KEY (TournamentID) REFERENCES Tournaments(TournamentID),
    FOREIGN KEY (TeamID) REFERENCES Teams(TeamID),
    IsDeleted int default 0
);

-- Thêm dữ liệu vào bảng Roles
INSERT INTO Roles (RoleName) VALUES
('Admin'),
('Tournament Organizer'),
('Coach');

-- Thêm dữ liệu vào bảng Accounts
INSERT INTO Accounts (Username, Password, AccountRole) VALUES
('admin1', 'password123', 1),
('organizer1', 'organizerpass', 2),
('coach1', 'coachpass', 3);

-- Thêm dữ liệu vào bảng Coachs
INSERT INTO Coachs (CoachName, BirthDate, PhoneNumber, Forte, AvatarPath) VALUES
('Pep Guardiola', '1971-01-18', '0123456789', 'Tiki-taka', 'Avatars\\Coachs\\Pep_Guardiola.jpg'),
('Jurgen Klopp', '1967-06-16', '0987654321', 'Gegenpressing', 'Avatars\\Coachs\\Jurgen_Klopp.jpg'),
('Mikel Arteta', '1982-03-26', '0234567890', 'Possession Play', 'Avatars\\Coachs\\Mikel_Arteta.jpg'),
('Erik ten Hag', '1970-02-02', '0345678901', 'High Press', 'Avatars\\Coachs\\Erik_ten_Hag.jpg'),
('Eddie Howe', '1977-11-29', '0456789012', 'Counter-Attack', 'Avatars\\Coachs\\Eddie_Howe.jpg'),
('Unai Emery', '1971-11-03', '0567890123', 'Structured Defense', 'Avatars\\Coachs\\Unai_Emery.jpg'),
('Mauricio Pochettino', '1972-03-02', '0678901234', 'Quick Transition', 'Avatars\\Coachs\\Mauricio_Pochettino.jpg'),
('Roberto De Zerbi', '1979-06-06', '0789012345', 'Build-up Play', 'Avatars\\Coachs\\Roberto_De_Zerbi.jpg'),
('Thomas Frank', '1973-10-09', '0890123456', 'Flexible Tactics', 'Avatars\\Coachs\\Thomas_Frank.jpg'),
('David Moyes', '1963-04-25', '0901234567', 'Defensive Organization', 'Avatars\\Coachs\\David_Moyes.jpg');

-- Thêm dữ liệu vào bảng Teams
INSERT INTO Teams (TeamName, CoachID, EstablishedDate, AvatarPath) VALUES
('Manchester City', 1, '1880-04-16', 'Avatars\\Teams\\Manchester_City.jpg'),
('Liverpool', 2, '1892-06-03', 'Avatars\\Teams\\Liverpool.jpg'),
('Arsenal', 3, '1886-12-01', 'Avatars\\Teams\\Arsenal.jpg'),
('Manchester United', 4, '1878-03-05', 'Avatars\\Teams\\Manchester_United.jpg'),
('Newcastle United', 5, '1892-12-09', 'Avatars\\Teams\\Newcastle_United.png'),
('Aston Villa', 6, '1874-11-21', 'Avatars\\Teams\\Aston_Villa.png'),
('Chelsea', 7, '1905-03-10', 'Avatars\\Teams\\Chelsea.jpg'),
('Brighton', 8, '1901-06-24', 'Avatars\\Teams\\Brighton.jpg'),
('Brentford', 9, '1889-10-10', 'Avatars\\Teams\\Brentford.png'),
('West Ham United', 10, '1895-06-29', 'Avatars\\Teams\\West_Ham_United.jpg');

-- Thêm dữ liệu vào bảng Players
INSERT INTO Players (TeamID, PlayerName, Position, BirthDate, PhoneNumber, JerseyNumber, AvatarPath) VALUES
(1, 'Erling Haaland', 'Forward', '2000-07-21', '0911111111', 9, 'Avatars\\Players\\Erling_Haaland.jpg'),
(1, 'Kevin De Bruyne', 'Midfielder', '1991-06-28', '0911111112', 17, 'Avatars\\Players\\Kevin_De_Bruyne.jpg'),
(1, 'Ruben Dias', 'Defender', '1997-05-14', '0911111113', 3, 'Avatars\\Players\\Ruben_Dias.jpg'),
(1, 'Ederson Moraes', 'Goalkeeper', '1993-08-17', '0911111114', 31, 'Avatars\\Players\\Ederson_Moraes.jpg'),
(2, 'Mohamed Salah', 'Forward', '1992-06-15', '0912222221', 11, 'Avatars\\Players\\Mohamed_Salah.jpg'),
(2, 'Virgil van Dijk', 'Defender', '1991-07-08', '0912222222', 4, 'Avatars\\Players\\Virgil_van_Dijk.jpg'),
(2, 'Alisson Becker', 'Goalkeeper', '1992-10-02', '0912222223', 1, 'Avatars\\Players\\Alisson_Becker.jpg'),
(2, 'Trent Alexander-Arnold', 'Defender', '1998-10-07', '0912222224', 66, 'Avatars\\Players\\Trent_Alexander-Arnold.jpg'),
(3, 'Bukayo Saka', 'Forward', '2001-09-05', '0913333331', 7, 'Avatars\\Players\\Bukayo_Saka.jpg'),
(3, 'Martin Odegaard', 'Midfielder', '1998-12-17', '0913333332', 8, 'Avatars\\Players\\Martin_Odegaard.jpg'),
(3, 'Aaron Ramsdale', 'Goalkeeper', '1998-05-14', '0913333333', 1, 'Avatars\\Players\\Aaron_Ramsdale.jpg'),
(3, 'Gabriel Magalhaes', 'Defender', '1997-12-19', '0913333334', 6, 'Avatars\\Players\\Gabriel_Magalhaes.jpg'),
(4, 'Marcus Rashford', 'Forward', '1997-10-31', '0914444441', 10, 'Avatars\\Players\\Marcus_Rashford.jpg'),
(4, 'Bruno Fernandes', 'Midfielder', '1994-09-08', '0914444442', 8, 'Avatars\\Players\\Bruno_Fernandes.jpg'),
(4, 'David De Gea', 'Goalkeeper', '1990-11-07', '0914444443', 1, 'Avatars\\Players\\David_De_Gea.jpg'),
(4, 'Lisandro Martinez', 'Defender', '1998-01-18', '0914444444', 6, 'Avatars\\Players\\Lisandro_Martinez.jpg'),
(5, 'Alexander Isak', 'Forward', '1999-09-21', '0915555551', 14, 'Avatars\\Players\\Alexander_Isak.jpg'),
(5, 'Bruno Guimaraes', 'Midfielder', '1997-11-16', '0915555552', 39, 'Avatars\\Players\\Bruno_Guimaraes.jpg'),
(5, 'Nick Pope', 'Goalkeeper', '1992-04-19', '0915555553', 22, 'Avatars\\Players\\Nick_Pope.jpg'),
(5, 'Sven Botman', 'Defender', '2000-01-12', '0915555554', 4, 'Avatars\\Players\\Sven_Botman.jpg'),
(6, 'Ollie Watkins', 'Forward', '1995-12-30', '0916666661', 11, 'Avatars\\Players\\Ollie_Watkins.jpg'),
(6, 'John McGinn', 'Midfielder', '1994-10-18', '0916666662', 7, 'Avatars\\Players\\John_McGinn.jpg'),
(6, 'Emiliano Martinez', 'Goalkeeper', '1992-09-02', '0916666663', 1, 'Avatars\\Players\\Emiliano_Martinez.jpg'),
(6, 'Tyrone Mings', 'Defender', '1993-03-13', '0916666664', 5, 'Avatars\\Players\\Tyrone_Mings.jpg'),
(7, 'Raheem Sterling', 'Forward', '1994-12-08', '0917777771', 17, 'Avatars\\Players\\Raheem_Sterling.jpg'),
(7, 'Enzo Fernandez', 'Midfielder', '2001-01-17', '0917777772', 5, 'Avatars\\Players\\Enzo_Fernandez.jpg'),
(7, 'Kepa Arrizabalaga', 'Goalkeeper', '1994-10-03', '0917777773', 1, 'Avatars\\Players\\Kepa_Arrizabalaga.jpg'),
(7, 'Thiago Silva', 'Defender', '1984-09-22', '0917777774', 6, 'Avatars\\Players\\Thiago_Silva.jpg'),
(8, 'Evan Ferguson', 'Forward', '2004-10-19', '0918888881', 28, 'Avatars\\Players\\Evan_Ferguson.jpg'),
(8, 'Pascal Gross', 'Midfielder', '1991-06-15', '0918888882', 13, 'Avatars\\Players\\Pascal_Gross.jpg'),
(8, 'Jason Steele', 'Goalkeeper', '1990-08-18', '0918888883', 23, 'Avatars\\Players\\Jason_Steele.jpg'),
(8, 'Lewis Dunk', 'Defender', '1991-11-21', '0918888884', 5, 'Avatars\\Players\\Lewis_Dunk.jpg'),
(9, 'Ivan Toney', 'Forward', '1996-03-16', '0919999991', 17, 'Avatars\\Players\\Ivan_Toney.jpg'),
(9, 'Christian Norgaard', 'Midfielder', '1994-03-10', '0919999992', 6, 'Avatars\\Players\\Christian_Norgaard.jpg'),
(9, 'David Raya', 'Goalkeeper', '1995-09-15', '0919999993', 1, 'Avatars\\Players\\David_Raya.jpg'),
(9, 'Pontus Jansson', 'Defender', '1991-02-13', '0919999994', 18, 'Avatars\\Players\\Pontus_Jansson.jpg'),
(10, 'Michail Antonio', 'Forward', '1990-03-28', '0920000001', 9, 'Avatars\\Players\\Michail_Antonio.jpg'),
(10, 'Declan Rice', 'Midfielder', '1999-01-14', '0920000002', 41, 'Avatars\\Players\\Declan_Rice.jpg'),
(10, 'Lukasz Fabianski', 'Goalkeeper', '1985-04-18', '0920000003', 1, 'Avatars\\Players\\Lukasz_Fabianski.jpg'),
(10, 'Kurt Zouma', 'Defender', '1994-10-27', '0920000004', 4, 'Avatars\\Players\\Kurt_Zouma.jpg');



-- Thêm dữ liệu vào bảng Tournaments
INSERT INTO Tournaments (TournamentName, StartDate, EndDate, Location, TournamentCreator, AvatarPath) VALUES
('Premier League', '2023-08-11', '2024-05-19', 'England', 'organizer1', 'Avatars\\Tournaments\\Premier_League.jpg'),
('FA Cup 2024', '2024-01-06', '2024-05-15', 'England', 'organizer1', 'Avatars\\Tournaments\\FA_Cup_2024.png'),
('EFL Cup 2024', '2023-08-08', '2024-02-25', 'England', 'organizer1', 'Avatars\\Tournaments\\EFL_Cup_2024.png');

-- Thêm dữ liệu vào bảng Matches
INSERT INTO Matches (TournamentID, Team1ID, Team2ID, MatchDate, Location, TeamWin, Result) VALUES
(1, 1, 2, '2024-01-16 14:00:00', 'New York Stadium', 1, '2-1'),
(1, 3, 4, '2024-01-20 18:00:00', 'New York Stadium', 3, '1-3'),
(1, 5, 6, '2024-01-16 14:00:00', 'New York Stadium', 5, '2-1'),
(1, 7, 8, '2024-01-16 14:00:00', 'New York Stadium', 7, '2-1'),
(1, 1, 3, '2024-01-16 14:00:00', 'New York Stadium', 1, '2-1'),
(1, 5, 7, '2024-01-16 14:00:00', 'New York Stadium', 7, '2-1'),
(1, 1, 7, '2024-01-16 14:00:00', 'New York Stadium', 1, '2-1');

-- Thêm dữ liệu vào bảng Awards
INSERT INTO Awards (TournamentID, AwardName, PrizeAmount) VALUES
(1, 'Champion', 10000.00),
(1, 'Runner-Up', 5000.00),
(1, 'Second Runner-Up', 2000.00);

-- Thêm dữ liệu vào bảng Rules
INSERT INTO Rules (TournamentID, RuleDescription) VALUES
(1, 'Each team must have at least 11 players.'),
(1, 'Match duration is 90 minutes.');

-- Thêm dữ liệu vào bảng Teams_in_tournament
INSERT INTO Teams_in_tournament (TournamentID, TeamID) VALUES
(1, 1),
(1, 2),
(1, 3),
(1, 4),
(1, 5),
(1, 6),
(1, 7),
(1, 8);



