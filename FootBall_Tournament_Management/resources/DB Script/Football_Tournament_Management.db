drop database if exists football_tournament_management;
create database football_tournament_management;
use football_tournament_management;

-- Tạo bảng Roles
CREATE TABLE Roles (
    RoleID INT AUTO_INCREMENT PRIMARY KEY,
    RoleName VARCHAR(255)
);

-- Tạo bảng Accounts
CREATE TABLE Accounts (
    Username VARCHAR(255) PRIMARY KEY,
    Password VARCHAR(255) NOT NULL,
    AccountRole INT,
    FOREIGN KEY (AccountRole) REFERENCES Roles(RoleID),
    IsDeleted int default 0
);

-- Tạo bảng Coachs
CREATE TABLE Coachs (
    CoachID INT AUTO_INCREMENT PRIMARY KEY,
    CoachName VARCHAR(255) NOT NULL,
    BirthDate DATE,
    PhoneNumber VARCHAR(255),
    Forte VARCHAR(255),
    IsDeleted int default 0
);

-- Tạo bảng Teams
CREATE TABLE Teams (
    TeamID INT AUTO_INCREMENT PRIMARY KEY,
    TeamName VARCHAR(255) NOT NULL,
    CoachID INT,
    EstablishedDate DATE,
    FOREIGN KEY (CoachID) REFERENCES Coachs(CoachID),
    IsDeleted int default 0
);

-- Tạo bảng Players
CREATE TABLE Players (
    PlayerID INT AUTO_INCREMENT PRIMARY KEY,
    TeamID INT,
    PlayerName VARCHAR(255) NOT NULL,
    Position VARCHAR(50),
    BirthDate DATE,
    PhoneNumber VARCHAR(255),
    JerseyNumber INT,
    FOREIGN KEY (TeamID) REFERENCES Teams(TeamID),
    IsDeleted int default 0
);

-- Tạo bảng Tournaments
CREATE TABLE Tournaments (
    TournamentID INT AUTO_INCREMENT PRIMARY KEY,
    TournamentName VARCHAR(255) NOT NULL,
    StartDate DATE,
    EndDate DATE,
    Location VARCHAR(255),
    TournamentCreator VARCHAR(255),
    FOREIGN KEY (TournamentCreator) REFERENCES Accounts(Username),
    IsDeleted int default 0
);

-- Tạo bảng Matches
CREATE TABLE Matches (
    MatchID INT AUTO_INCREMENT PRIMARY KEY,
    TournamentID INT,
    Team1ID INT,
    Team2ID INT,
    MatchDate DATETIME,
    Location VARCHAR(255),
    TeamWin INT,
    Result VARCHAR(50),
    FOREIGN KEY (TournamentID) REFERENCES Tournaments(TournamentID),
    FOREIGN KEY (Team1ID) REFERENCES Teams(TeamID),
    FOREIGN KEY (Team2ID) REFERENCES Teams(TeamID),
    FOREIGN KEY (TeamWin) REFERENCES Teams(TeamID),
    IsDeleted int default 0
);

-- Tạo bảng Awards
CREATE TABLE Awards (
    TournamentID INT,
    AwardName VARCHAR(255),
    PrizeAmount DECIMAL(18, 2),
    PRIMARY KEY (TournamentID, AwardName),
    FOREIGN KEY (TournamentID) REFERENCES Tournaments(TournamentID),
    IsDeleted int default 0
);

-- Tạo bảng Rules
CREATE TABLE Rules (
    RuleID INT AUTO_INCREMENT PRIMARY KEY,
    TournamentID INT,
    RuleDescription TEXT,
    FOREIGN KEY (TournamentID) REFERENCES Tournaments(TournamentID),
    IsDeleted int default 0
);

-- Tạo bảng Teams_in_tournament
CREATE TABLE Teams_in_tournament (
    TournamentID INT NOT null,
    TeamID INT NOT NULL,
    PRIMARY KEY (TournamentID, TeamID),
    FOREIGN KEY (TournamentID) REFERENCES Tournaments(TournamentID),
    FOREIGN KEY (TeamID) REFERENCES Teams(TeamID),
    IsDeleted int default 0
);

-- Thêm dữ liệu vào bảng Roles
INSERT INTO Roles (RoleName) VALUES
('Admin'),
('Tournament Organizer'),
('Coach');

-- Thêm dữ liệu vào bảng Accounts
INSERT INTO Accounts (Username, Password, AccountRole) VALUES
('admin1', 'password123', 1),
('organizer1', 'organizerpass', 2),
('coach1', 'coachpass', 3);

-- Thêm dữ liệu vào bảng Coachs
INSERT INTO Coachs (CoachName, BirthDate, PhoneNumber, Forte) VALUES
('Pep Guardiola', '1971-01-18', '0123456789', 'Tiki-taka'),
('Jurgen Klopp', '1967-06-16', '0987654321', 'Gegenpressing'),
('Mikel Arteta', '1982-03-26', '0234567890', 'Possession Play'),
('Erik ten Hag', '1970-02-02', '0345678901', 'High Press'),
('Eddie Howe', '1977-11-29', '0456789012', 'Counter-Attack'),
('Unai Emery', '1971-11-03', '0567890123', 'Structured Defense'),
('Mauricio Pochettino', '1972-03-02', '0678901234', 'Quick Transition'),
('Roberto De Zerbi', '1979-06-06', '0789012345', 'Build-up Play'),
('Thomas Frank', '1973-10-09', '0890123456', 'Flexible Tactics'),
('David Moyes', '1963-04-25', '0901234567', 'Defensive Organization');

-- Thêm dữ liệu vào bảng Teams
INSERT INTO Teams (TeamName, CoachID, EstablishedDate) VALUES
('Manchester City', 1, '1880-04-16'),
('Liverpool', 2, '1892-06-03'),
('Arsenal', 3, '1886-12-01'),
('Manchester United', 4, '1878-03-05'),
('Newcastle United', 5, '1892-12-09'),
('Aston Villa', 6, '1874-11-21'),
('Chelsea', 7, '1905-03-10'),
('Brighton', 8, '1901-06-24'),
('Brentford', 9, '1889-10-10'),
('West Ham United', 10, '1895-06-29');

-- Thêm dữ liệu vào bảng Players
INSERT INTO Players (TeamID, PlayerName, Position, BirthDate, PhoneNumber, JerseyNumber) VALUES
(1, 'Erling Haaland', 'Forward', '2000-07-21', '0911111111', 9),
(1, 'Kevin De Bruyne', 'Midfielder', '1991-06-28', '0911111112', 17),
(1, 'Ruben Dias', 'Defender', '1997-05-14', '0911111113', 3),
(1, 'Ederson Moraes', 'Goalkeeper', '1993-08-17', '0911111114', 31),
(2, 'Mohamed Salah', 'Forward', '1992-06-15', '0911111115', 11),
(2, 'Virgil van Dijk', 'Defender', '1991-07-08', '0911111116', 4),
(2, 'Alisson Becker', 'Goalkeeper', '1992-10-02', '0911111117', 1),
(2, 'Trent Alexander-Arnold', 'Defender', '1998-10-07', '0911111118', 66),
(3, 'Gabriel Jesus', 'Forward', '1997-04-03', '0911111119', 9),
(3, 'Martin Odegaard', 'Midfielder', '1998-12-17', '0911111120', 8),
(3, 'William Saliba', 'Defender', '2001-03-24', '0911111121', 12),
(3, 'Aaron Ramsdale', 'Goalkeeper', '1998-05-14', '0911111122', 1),
(4, 'Marcus Rashford', 'Forward', '1997-10-31', '0911111123', 10),
(4, 'Bruno Fernandes', 'Midfielder', '1994-09-08', '0911111124', 8),
(4, 'Lisandro Martinez', 'Defender', '1998-01-18', '0911111125', 6),
(4, 'David de Gea', 'Goalkeeper', '1990-11-07', '0911111126', 1),
(5, 'Alexander Isak', 'Forward', '1999-09-21', '0911111127', 14),
(5, 'Bruno Guimaraes', 'Midfielder', '1997-11-16', '0911111128', 39),
(5, 'Sven Botman', 'Defender', '2000-01-12', '0911111129', 4),
(5, 'Nick Pope', 'Goalkeeper', '1992-04-19', '0911111130', 22),
(6, 'Ollie Watkins', 'Forward', '1995-12-30', '0911111131', 11),
(6, 'Douglas Luiz', 'Midfielder', '1998-05-09', '0911111132', 6),
(6, 'Tyrone Mings', 'Defender', '1993-03-13', '0911111133', 5),
(6, 'Emiliano Martinez', 'Goalkeeper', '1992-09-02', '0911111134', 1),
(7, 'Raheem Sterling', 'Forward', '1994-12-08', '0911111135', 17),
(7, 'Enzo Fernandez', 'Midfielder', '2001-01-17', '0911111136', 5),
(7, 'Thiago Silva', 'Defender', '1984-09-22', '0911111137', 6),
(7, 'Kepa Arrizabalaga', 'Goalkeeper', '1994-10-03', '0911111138', 1),
(8, 'Evan Ferguson', 'Forward', '2004-10-19', '0911111139', 28),
(8, 'Moises Caicedo', 'Midfielder', '2001-11-02', '0911111140', 25),
(8, 'Lewis Dunk', 'Defender', '1991-11-21', '0911111141', 5),
(8, 'Jason Steele', 'Goalkeeper', '1990-08-18', '0911111142', 23),
(9, 'Ivan Toney', 'Forward', '1996-03-16', '0911111143', 17),
(9, 'Christian Norgaard', 'Midfielder', '1994-03-10', '0911111144', 6),
(9, 'Ethan Pinnock', 'Defender', '1993-05-29', '0911111145', 5),
(9, 'David Raya', 'Goalkeeper', '1995-09-15', '0911111146', 1),
(10, 'Michail Antonio', 'Forward', '1990-03-28', '0911111147', 9),
(10, 'Declan Rice', 'Midfielder', '1999-01-14', '0911111148', 41),
(10, 'Kurt Zouma', 'Defender', '1994-10-27', '0911111149', 4),
(10, 'Lukasz Fabianski', 'Goalkeeper', '1985-04-18', '0911111150', 1);

-- Thêm dữ liệu vào bảng Tournaments
INSERT INTO Tournaments (TournamentName, StartDate, EndDate, Location, TournamentCreator) VALUES
('Premier League', '2023-08-11', '2024-05-19', 'England', 'organizer1'),
('FA Cup 2024', '2024-01-06', '2024-05-15', 'England', 'organizer1'),
('EFL Cup 2024', '2023-08-08', '2024-02-25', 'England', 'organizer1');


-- Thêm dữ liệu vào bảng Matches
INSERT INTO Matches (TournamentID, Team1ID, Team2ID, MatchDate, Location, TeamWin, Result) VALUES
(1, 1, 2, '2024-01-16 14:00:00', 'New York Stadium', 1, '2-1'),
(1, 3, 4, '2024-01-20 18:00:00', 'New York Stadium', 3, '1-3'),
(1, 5, 6, '2024-01-16 14:00:00', 'New York Stadium', 5, '2-1'),
(1, 7, 8, '2024-01-16 14:00:00', 'New York Stadium', 7, '2-1'),
(1, 1, 3, '2024-01-16 14:00:00', 'New York Stadium', 1, '2-1'),
(1, 5, 7, '2024-01-16 14:00:00', 'New York Stadium', 7, '2-1'),
(1, 1, 7, '2024-01-16 14:00:00', 'New York Stadium', 1, '2-1');

-- Thêm dữ liệu vào bảng Awards
INSERT INTO Awards (TournamentID, AwardName, PrizeAmount) VALUES
(1, 'Champion', 10000.00),
(1, 'Runner-Up', 5000.00),
(1, 'Second Runner-Up', 2000.00);

-- Thêm dữ liệu vào bảng Rules
INSERT INTO Rules (TournamentID, RuleDescription) VALUES
(1, 'Each team must have at least 11 players.'),
(1, 'Match duration is 90 minutes.');

-- Thêm dữ liệu vào bảng Teams_in_tournament
INSERT INTO Teams_in_tournament (TournamentID, TeamID) VALUES
(1, 1),
(1, 2),
(1, 3),
(1, 4),
(1, 5),
(1, 6),
(1, 7),
(1, 8);




